---
title: C++ 11 模版的使用
date: 2017-03-05 10:37:28
tags: C++
---

## 为什么要使用模版

在声明变量、函数和大多数其他类型的实体的时候，C++要求我们使用特定的类型。然而许多代码除了类型不同不同之外，其余代码都看起来是相同的。
比如`sort()`函数，每当你实现了一个顺序容器，就需要重新写一个`sort()`函数……

如果程序设计语言并不支持这个语言特性，为了实现相同的功能，你只能使用下面这些糟糕的替代方法：
1. 针对每个所需相同行为的不同类型，你可以一次又一次地实现它。
2. 你可以把通用代码放在一个注入Object或者void*的公共基础类里面。
3. 你可以使用特殊的预处理程序，如#define。

而在Java和C等类似的语言中，上面的方法都有自身的缺点：
1. 做了许多重复工作，会趋向舍弃复杂但更好用的算法来保证尽可能不出错，复杂算法通常都趋向于引入更多的错误。
2. 采用公共基类编写代码，会失去类型检查这个优点。另外，对于以后实现的许多类都必须继承自某个特定的基类，这会令代码的维护更加困难。
3. 如如果使用了预处理程序，你会使代码变得格式混乱难以阅读，使用“文本替换机制”并不会考虑作用域和类型。

在现今的程序中，模版的应用非常广泛。C++的标准库中，几乎所有代码都是模版代码。

## 函数模板和类模板

 